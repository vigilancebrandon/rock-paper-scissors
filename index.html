<!--
Make a game that plays rock paper scissors against the computer in console.
Player inputs "Rock", "Paper", or "Scissors"
Computer makes selection upon input
  Pass selections to winner function
  Determine winner
Print selections
Print winner

Rock, Rock
Rock, Paper
Rock, Scissors

Paper, Paper
Paper, Rock
Paper, Scissors

Scissors, Scissors
Scissors, Rock
Scissors, Paper
-->
<!DOCTYPE html>
<html lang="en">
  <meta charset="UTF-8">
  <title>Rock Paper Scissors</title>
  <body>
    <script>
      function getComputerChoice() {
        let computer = Math.floor(Math.random() * 3)
        if (computer === 0) {
          computer = "Rock";
        } else if (computer === 1) {
          computer = "Paper";
        } else if (computer === 2) {
          computer = "Scissors";
        }
        return computer;
      }

      function getPlayerChoice() {
        let player = prompt("Please select Rock, Paper, or Scissors: ");
        player = player[0].toUpperCase() + player.slice(1).toLowerCase();//Sets capitalization format
        let validItems = ["Rock", "Paper", "Scissors"];
        //in case user input is invalid
        while (!validItems.includes(player)) {
          player = prompt("Oops! Please select Rock, Paper, or Scissors: ");
          player = player[0].toUpperCase() + player.slice(1).toLowerCase();
        }
        return player;
      }

      function determineWinner(computer, player) {
        if (
          (computer === "Rock" && player === "Scissors") 
          || (computer === "Paper" && player === "Rock")
          || (computer === "Scissors" && player === "Paper")
          ) {
            console.log(`You lose the round! ${computer} beats ${player}`)
            return "computer";
        } else if (
            (player === "Rock" && computer === "Scissors") 
          || (player === "Paper" && computer === "Rock")
          || (player === "Scissors" && computer === "Paper")
          ) {
            console.log(`You win the round! ${player} beats ${computer}`)
            return "player";
        }
      }

        function playRound() {
          computer = getComputerChoice();
          player = getPlayerChoice();
          //check for tie
          if (computer === player) {
            console.log(`It's a tie! You both played ${computer}.\nLet's try again!`);
            playRound();
          } else {
            return determineWinner(computer, player);
          }
          //playAgain()
        }

        /*function playAgain() {
          if (confirm("Would you like to play again?")) {
            playRound()
          } else {
            console.log("Ok. Thanks for playing!")
          }
        }*/
        
        function game() {
          let compWins = 0;
          let playerWins = 0;
          while (compWins + playerWins < 5) { //to change number of rounds, simply change the number in boolean for while loop, as well as majority win values for win conditions
            if (playRound() === 'computer') {
              compWins++;
            } else {
              playerWins++;
            }
            if (compWins === 3) {
              console.log(`You lose the game, ${compWins} to ${playerWins}!`);
              break
            } else if (playerWins === 3) {
              console.log(`You win the game, ${playerWins} to ${compWins}!`);
              break
            }
          }
        }
    </script>
    <h1>Type "game()" into the browser console and press Return</h1>
  </body>
</html>